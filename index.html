<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>haDino</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;700&display=swap" rel="stylesheet">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
</head>

<body>

    <div id="game-container">
        <canvas id="gameCanvas"></canvas>

        <!-- Rotate Device Message (Mobile Portrait Only) -->
        <div id="rotate-message">
            <div class="glass-panel">
                <h2>üì± Rotate Your Device</h2>
                <p>‚ö†Ô∏è Please rotate your device to landscape mode for the best mobile gaming experience!</p>
                <p style="font-size: 3rem; margin: 1rem 0;">üîÑ</p>
                <button id="enter-fullscreen-btn" class="fullscreen-btn">Enter Fullscreen Mode (Recommended)</button>
            </div>
        </div>

        <div id="ui-layer">
            <!-- Pause Button (Top-Left) -->
            <button id="pause-btn" class="pause-button hidden" title="Pause Game">‚è∏</button>
            
            <div id="score-board" class="hidden">
                <span>Score: <span id="current-score">0</span></span>
                <span>High Score: <span id="high-score">0</span></span>
            </div>

            <!-- Login Overlay -->
            <div id="login-overlay">
                <div class="glass-panel">
                    <h1>üôçüèø‚Äç‚ôÇÔ∏è haDino ü¶ñ</h1>
                    <div class="auth-tabs">
                        <button id="tab-login" class="tab-btn active">Login</button>
                        <button id="tab-register" class="tab-btn">Register</button>
                    </div>
                    <div id="auth-form">
                        <input type="text" id="userid-input" placeholder="User ID (e.g. player123)" maxlength="20">
                        <input type="text" id="username-input" placeholder="Display Name" maxlength="15" class="hidden">
                        <button id="auth-action-btn">Login & Play</button>
                        <p id="auth-message"></p>
                    </div>
                </div>
            </div>

            <!-- Main Menu Overlay -->
            <div id="main-menu-overlay" class="hidden">
                <div class="glass-panel">
                    <h1>üôçüèø‚Äç‚ôÇÔ∏è haDino ü¶ñ</h1>
                    <p>Welcome, <span id="menu-username">Runner</span>!</p>
                    <button id="menu-play-btn">Play Game</button>
                    <button id="menu-leaderboard-btn">Leaderboard</button>
                    <button id="menu-settings-btn">Settings</button>
                    <button id="menu-about-btn">About Us</button>
                </div>
            </div>

            <!-- a section for the developer introduction which will contain my picture, infos, department name, university name, social media links (fb, github, linkedin). I will also write a line saying thanks to Saad and Antigravity. -->
            <!-- About Us Overlay -->
            <div id="about-overlay" class="hidden">
                <div class="glass-panel">
                    <h1>About Us</h1>
                    <p>Thank you for playing haDino!</p>
                    <b>Developed by:</b>
                    <ul>
                        <li> <img src="assets/abdullah.png" alt="">
                            <p><b>Abdullah</b></p>
                            <p>I worked as the developer of this game.<br>Department of Computer Science and Engineering, MBSTU.</p>
                        </li>
                        <li> <img src="assets/saad.png" alt="">
                            <p><b>Saad Khan</b></p>
                            <p>I assisted and checked the quality of the website.<br>Department of Computer Science and Engineering, MBSTU.</p>
                        </li>
                        <li> <img src="assets/hadi.png" alt="">
                            <p><b>Abdullah Al Hadi</b></p>
                            <p>I have done nothing, just being abused here.<br>Department of Computer Science and Engineering, MBSTU.</p>
                        </li>
                        <li> <img src="assets/hamuna.png" alt="">
                            <p><b>Hamuna TV</b></p>
                            <p>We are the media partner of this game.<br>A reknown online news portal. Famous for spreading false news. Truth is our enemy.</p>
                        </li>
                    </ul>
                    <button id="about-back-btn" class="secondary-btn">Back</button>
                </div>
            </div>

            <!-- Leaderboard Overlay -->
            <div id="leaderboard-overlay" class="hidden">
                <div class="glass-panel">
                    <h3>Top 50 Runners</h3><br>
                    <ul id="top-scores-list">
                        <!-- Scores will be populated here -->
                        <li>Loading scores...</li>
                    </ul>
                    <button id="leaderboard-back-btn" class="secondary-btn">Back</button>
                </div>
            </div>

            <!-- Settings Overlay -->
            <div id="settings-overlay" class="hidden">
                <div class="glass-panel">
                    <h2>Settings</h2>
                    <div class="setting-item">
                        <label for="music-toggle">Music</label>
                        <input type="checkbox" id="music-toggle" checked>
                    </div>
                    <button id="logout-btn" class="danger-btn">Logout</button>
                    <button id="settings-back-btn" class="secondary-btn">Back</button>
                </div>
            </div>

            <!-- Game Over Overlay -->
            <div id="game-over-overlay" class="hidden">
                <div class="glass-panel">
                    <h2>Game Over!</h2>
                    <h4>‡¶¶‡ßã‡ßü‡¶æ ‡¶ï‡¶∞‡ßá‡¶® ‡¶Ø‡¶æ‡¶§‡ßá ‡¶ó‡ßá‡¶Æ‡¶ü‡¶ø ‡¶Ø‡¶æ‡¶∞‡¶æ ‡¶¨‡¶æ‡¶®‡¶ø‡ßü‡ßá‡¶õ‡ßá‡¶® ‡¶§‡¶æ‡¶¶‡ßá‡¶∞ ‡¶¶‡ßç‡¶∞‡ßÅ‡¶§ ‡¶¨‡¶ø‡¶¨‡¶æ‡¶π ‡¶π‡ßü‡ßá ‡¶Ø‡¶æ‡ßü‡•§</h4>
                    <br>
                    <p>Score: <span id="final-score">0</span></p>
                    <button id="restart-btn">Try Again</button>
                    <button id="home-btn">Main Menu</button>
                </div>
            </div>

            <!-- Pause Overlay -->
            <div id="pause-overlay" class="hidden">
                <div class="pause-content">
                    <div class="pause-icon">‚è∏</div>
                    <h1 class="pause-title">Game Paused</h1>
                    <div id="countdown-text" class="countdown-display">3</div>
                    <p class="pause-instructions">Take a break, you're doing great!</p>
                    <div class="pause-buttons">
                        <button id="resume-btn" class="resume-button">
                            <span class="btn-icon">‚ñ∂</span>
                            <span class="btn-text">Resume</span>
                        </button>
                        <button id="pause-home-btn" class="pause-secondary-btn">
                            <span class="btn-icon">üè†</span>
                            <span class="btn-text">Main Menu</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!--  Audio Element -->
        <audio id="bg-music" loop>
            <source src="assets/music.mp3" type="audio/mpeg">
            Your browser does not support the audio element.
        </audio>

        <!--   Firebase SDKs -->
        <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

        <!--    Config and Game Script -->
        <script src="firebase-config.js"></script>
        <script src="scriptf.js"></script>
</body>
</html>